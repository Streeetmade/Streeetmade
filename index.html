<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Магазин StreetMade</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #111;
        color: #fff;
        margin: 0;
        padding: 0;
    }
    header {
        background-color: #222;
        padding: 20px;
        text-align: center;
        font-size: 2em;
        font-weight: bold;
    }
    .products, .cart {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin: 20px;
    }
    .product {
        background-color: #333;
        margin: 10px;
        padding: 15px;
        width: 200px;
        text-align: center;
        border-radius: 10px;
    }
    .product img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 10px;
    }
    .product button {
        margin-top: 10px;
        padding: 10px;
        width: 100%;
        background-color: #ff6600;
        border: none;
        color: #fff;
        font-weight: bold;
        cursor: pointer;
        border-radius: 5px;
    }
    .cart {
        background-color: #222;
        padding: 20px;
        border-radius: 10px;
        flex-direction: column;
    }
    .cart-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        align-items: center;
    }
    .cart-item input {
        width: 50px;
    }
    .cart-item button {
        padding: 5px 10px;
        background-color: #cc0000;
        border: none;
        color: #fff;
        cursor: pointer;
        border-radius: 5px;
    }
    .footer {
        background-color: #222;
        text-align: center;
        padding: 20px;
        margin-top: 30px;
    }
    .socials img {
        width: 50px;
        margin: 0 10px;
        vertical-align: middle;
    }
    select {
        margin-top: 5px;
        padding: 5px;
        width: 100%;
        border-radius: 5px;
    }
</style>
</head>
<body>

<header>StreetMade</header>

<section class="products" id="products">
    <!-- Продукты будут вставляться через JS -->
</section>

<section class="cart" id="cart">
    <h2>Корзина</h2>
    <div id="cart-items"></div>
    <h3 id="cart-total">Итого: 0 AED</h3>
    <button onclick="clearCart()">Очистить корзину</button>
</section>

<footer class="footer">
    <div class="socials">
        <a href="#"><img src="https://i.postimg.cc/W4bgRCWb/Screenshot-20250814-164114-Chrome.jpg" alt="WhatsApp"></a>
        <a href="#"><img src="https://i.postimg.cc/1zcq97Hb/Screenshot-20250814-164403-Chrome.jpg" alt="Instagram"></a>
    </div>
    <p>Все права защищены © 2025 StreetMade</p>
</footer>

<script>
// Продукты
const products = [
    { id: 1, name: "Красовки Nike", category: "красовки", price: 300, size: ["40","41","42"], img: "https://i.postimg.cc/6p5J4k1K/sneakers.jpg" },
    { id: 2, name: "Джинсы Levi's", category: "джинсы", price: 200, size: ["S","M","L"], img: "https://i.postimg.cc/2yF7cYnZ/jeans.jpg" },
    { id: 3, name: "Футболка Adidas", category: "футболки", price: 100, img: "https://i.postimg.cc/XN7Tk1GQ/tshirt.jpg" },
    { id: 4, name: "Часы Casio", category: "часы", price: 500, img: "https://i.postimg.cc/bv2FjVHJ/watch.jpg" }
];

// Корзина
let cart = [];

// Вывод продуктов
const productsContainer = document.getElementById("products");

function displayProducts() {
    productsContainer.innerHTML = "";
    products.forEach(p => {
        const prodDiv = document.createElement("div");
        prodDiv.className = "product";
        prodDiv.innerHTML = `
            <img src="${p.img}" alt="${p.name}">
            <h3>${p.name}</h3>
            <p>Цена: ${p.price} AED</p>
            ${p.size ? `<select id="size-${p.id}">${p.size.map(s => `<option value="${s}">${s}</option>`)}</select>` : ""}
            <button onclick="addToCart(${p.id})">В корзину</button>
        `;
        productsContainer.appendChild(prodDiv);
    });
}

// Добавление в корзину
function addToCart(id) {
    const product = products.find(p => p.id === id);
    let size = product.size ? document.getElementById(`size-${id}`).value : null;
    let cartItem = cart.find(c => c.id === id && c.size === size);
    if(cartItem){
        cartItem.qty++;
    } else {
        cart.push({ ...product, qty: 1, size });
    }
    displayCart();
}

// Вывод корзины
function displayCart() {
    const cartItems = document.getElementById("cart-items");
    cartItems.innerHTML = "";
    let total = 0;
    cart.forEach((item, index) => {
        total += item.price * item.qty;
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
            <span>${item.name} ${item.size ? `(${item.size})` : ""}</span>
            <input type="number" value="${item.qty}" min="1" onchange="updateQty(${index}, this.value)">
            <span>${item.price * item.qty} AED</span>
            <button onclick="removeItem(${index})">X</button>
        `;
        cartItems.appendChild(div);
    });
    document.getElementById("cart-total").innerText = `Итого: ${total} AED`;
}

// Обновление количества
function updateQty(index, value){
    cart[index].qty = parseInt(value);
    displayCart();
}

// Удаление товара
function removeItem(index){
    cart.splice(index, 1);
    displayCart();
}

// Очистка корзины
function clearCart(){
    cart = [];
    displayCart();
}

// Инициализация
displayProducts();
</script>

</body>
</html>
